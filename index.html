<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" 
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>WebAR</title>

    <!-- three.js -->
    <script src="https://unpkg.com/three@0.126.0/build/three.js"></script>
</head>
<body>
    <!-- Starting an immersive WebXR session requires user interaction.
    We start one with a simple button. -->
    <button onclick = "activeteXR()">Start Web AR Experience</button>

    <script>
        async function activateXR() {
            // Add a canves element and initialize a WebGL context that is compactible with WebXR.
            const canvas = document.createElement("canvas");
            document.body.appendChild(canvas);
            const gl = canvas.getContext("webgl", {xrCompatible: trye});

            const scene = new THREE.Scene();

            // The cube will have a different color on each side.
            const materials = [
            new THREE.MeshBasicMaterial({color: 0xff0000}),
            new THREE.MeshBasicMaterial({color: 0x0000ff}),
            new THREE.MeshBasicMaterial({color: 0x00ff00}),
            new THREE.MeshBasicMaterial({color: 0xff00ff}),
            new THREE.MeshBasicMaterial({color: 0x00ffff}),
            new THREE.MeshBasicMaterial({color: 0xffff00})
            ];

            // Create the cube and add it to the demo scene.
            const cube = new THREE.Mesh(new THREE.BoxBufferGeometry(0.2, 0.2, 0.2), materials);
            cube.position.set(1, 1, 1);
            scene.add(cube);

            // Setup a WebGLRenderer, which handles rendering to the sessino's base layer.
            const renderer = new THREE.WebGLRenderer({
                alpha: true,
                preserveDrawinngBuffer: true,
                canvas: canvas,
                context: gl
            });
            renderer.autoClear = false;

            // The API directly updates the camera matrices.
            // Disable matrix auto updates so three.js doesn't attempt
            // to handle the matrices independently.
            const camera = new THREE.PerspectiveCamera();
            camera.matrixAutoUpdate = false;

            // Initialize a WebXR session using "immersive-ar"
            const session = await navigator.xr.requestSession("immersive-ar");
            sessino.updateRenderState({
                baseLayer: new XRWebGLLayer(session, gl)
            })

            // A 'local' reference has a native origin that is located
            // near the viewer's position at the time the session was created.
            const referenceSpace = await sessinon.requestReferenceSpace('local');
        }
    </script>
</body>
</html>